<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Event Info - GSCRL</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Russo+One&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../shared/styles.css">
  <style>
    /* ========================================
       Event Info Specific Styles
       ======================================== */
    
    body {
      margin: 0;
      padding: 0;
      height: 1080px;
      width: 1920px;
      overflow: hidden;
      background: linear-gradient(135deg, var(--gscrl-darker) 0%, var(--gscrl-dark) 100%);
      color: var(--gscrl-light);
      font-family: var(--font-body);
    }

    .event-info-container {
      display: flex;
      flex-direction: column;
      height: 100%;
      width: 100%;
      padding: var(--space-6);
      box-sizing: border-box;
    }

    /* Header Section */
    .event-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--space-6);
      padding-bottom: var(--space-4);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .header-left {
      display: flex;
      flex-direction: column;
      gap: var(--space-2);
    }

    .event-title {
      font-family: var(--font-display);
      font-size: var(--text-2xl);
      letter-spacing: 0.05em;
      color: var(--gscrl-light);
      text-shadow: var(--glow-intensity) var(--glow-color);
    }

    .event-status {
      font-family: var(--font-body);
      font-size: var(--text-lg);
      color: var(--gscrl-primary);
      font-weight: 600;
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: var(--space-4);
    }

    .current-time {
      font-family: var(--font-mono);
      font-size: var(--text-lg);
      color: var(--gscrl-gray);
    }

    /* Main Content Area */
    .event-content {
      flex: 1;
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .content-card {
      width: 100%;
      max-width: 1200px;
      background: rgba(26, 26, 46, 0.8);
      border-radius: var(--radius-lg);
      padding: var(--space-6);
      box-shadow: var(--shadow-lg);
      border: 1px solid rgba(255, 255, 255, 0.05);
      opacity: 0;
      transform: translateY(20px);
      transition: all var(--transition-fast) ease;
    }

    .content-card.active {
      opacity: 1;
      transform: translateY(0);
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--space-4);
      padding-bottom: var(--space-3);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .card-title {
      font-family: var(--font-display);
      font-size: var(--text-xl);
      color: var(--gscrl-light);
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .card-subtitle {
      font-family: var(--font-body);
      font-size: var(--text-sm);
      color: var(--gscrl-gray);
    }

    /* Footer Section */
    .event-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: var(--space-6);
      padding-top: var(--space-4);
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    .social-links {
      display: flex;
      gap: var(--space-4);
    }

    .social-link {
      color: var(--gscrl-gray);
      font-size: var(--text-sm);
      transition: color 0.2s ease;
    }

    .social-link:hover {
      color: var(--gscrl-light);
    }

    .next-segment {
      font-family: var(--font-body);
      font-size: var(--text-sm);
      color: var(--gscrl-gray);
    }

    /* Schedule Content */
    .schedule-content {
      display: flex;
      flex-direction: column;
      gap: var(--space-4);
    }

    .no-matches {
      text-align: center;
      padding: var(--space-6);
      color: var(--gscrl-gray);
      font-family: var(--font-body);
      font-size: var(--text-lg);
    }

    /* Standings Content */
    .standings-content {
      display: flex;
      flex-direction: column;
      gap: var(--space-2);
    }

    .standings-table {
      width: 100%;
      border-collapse: collapse;
    }

    .standings-table th {
      text-align: left;
      padding: var(--space-3);
      background: rgba(15, 15, 26, 0.5);
      font-family: var(--font-display);
      font-size: var(--text-sm);
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--gscrl-light);
    }

    .standings-table td {
      padding: var(--space-3);
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }

    .standings-table tr:hover {
      background: rgba(255, 255, 255, 0.03);
    }

    .rank {
      font-family: var(--font-display);
      font-weight: 600;
      color: var(--gscrl-primary);
    }

    .competitor-name {
      font-family: var(--font-display);
      font-size: var(--text-lg);
      color: var(--gscrl-light);
    }

    .record {
      font-family: var(--font-body);
      font-size: var(--text-sm);
      color: var(--gscrl-gray);
    }

    .points {
      font-family: var(--font-mono);
      font-weight: 600;
      color: var(--gscrl-light);
    }

    .no-standings {
      text-align: center;
      padding: var(--space-6);
      color: var(--gscrl-gray);
      font-family: var(--font-body);
      font-size: var(--text-lg);
    }

    /* Sponsor Content */
    .sponsor-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: var(--space-6);
      text-align: center;
    }

    .sponsor-message {
      font-family: var(--font-body);
      font-size: var(--text-lg);
      color: var(--gscrl-light);
      max-width: 800px;
      line-height: 1.6;
    }

    .sponsor-logo {
      width: 200px;
      height: 100px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: var(--radius-md);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--gscrl-gray);
      font-family: var(--font-body);
      font-size: var(--text-sm);
      border: 1px dashed rgba(255, 255, 255, 0.2);
    }

    .sponsor-name {
      font-family: var(--font-display);
      font-size: var(--text-xl);
      color: var(--gscrl-light);
      margin-top: var(--space-2);
    }

    .sponsor-cta {
      font-family: var(--font-body);
      font-size: var(--text-lg);
      color: var(--gscrl-primary);
      font-weight: 600;
      margin-top: var(--space-4);
    }

    .sponsor-social {
      display: flex;
      gap: var(--space-4);
      margin-top: var(--space-4);
      flex-wrap: wrap;
      justify-content: center;
    }

    .sponsor-social-link {
      color: var(--gscrl-gray);
      font-size: var(--text-sm);
      transition: color 0.2s ease;
    }

    .sponsor-social-link:hover {
      color: var(--gscrl-primary);
    }

    .no-sponsors {
      text-align: center;
      padding: var(--space-6);
      color: var(--gscrl-gray);
      font-family: var(--font-body);
      font-size: var(--text-lg);
    }

    /* Sponsor rotation controls */
    .sponsor-controls {
      display: flex;
      justify-content: center;
      gap: var(--space-4);
      margin-top: var(--space-4);
    }

    .sponsor-nav {
      padding: var(--space-2) var(--space-4);
      background: rgba(26, 26, 46, 0.7);
      color: var(--gscrl-light);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: var(--radius-sm);
      cursor: pointer;
      transition: all 0.2s ease;
      font-family: var(--font-body);
      font-size: var(--text-sm);
    }

    .sponsor-nav:hover {
      background: rgba(26, 26, 46, 0.9);
      border-color: var(--gscrl-primary);
    }

    .sponsor-nav:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* Engagement Content */
    .engagement-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: var(--space-6);
      text-align: center;
    }

    .engagement-prompt {
      font-family: var(--font-display);
      font-size: var(--text-2xl);
      color: var(--gscrl-light);
      max-width: 800px;
      line-height: 1.4;
      text-transform: uppercase;
    }

    .engagement-options {
      display: flex;
      gap: var(--space-4);
      flex-wrap: wrap;
      justify-content: center;
    }

    .engagement-option {
      padding: var(--space-3) var(--space-6);
      background: rgba(26, 26, 46, 0.7);
      border: 2px solid rgba(255, 255, 255, 0.1);
      border-radius: var(--radius-lg);
      color: var(--gscrl-light);
      font-family: var(--font-display);
      font-size: var(--text-lg);
      cursor: pointer;
      transition: all 0.2s ease;
      text-transform: uppercase;
    }

    .engagement-option:hover {
      background: rgba(26, 26, 46, 0.9);
      border-color: var(--gscrl-primary);
      transform: translateY(-2px);
    }

    .engagement-hashtag {
      font-family: var(--font-body);
      font-size: var(--text-xl);
      color: var(--gscrl-primary);
      font-weight: 600;
    }

    .engagement-social {
      font-family: var(--font-body);
      font-size: var(--text-lg);
      color: var(--gscrl-gray);
    }

    .engagement-timer {
      font-family: var(--font-mono);
      font-size: var(--text-2xl);
      color: var(--gscrl-light);
      font-weight: 600;
    }

    .no-engagement {
      text-align: center;
      padding: var(--space-6);
      color: var(--gscrl-gray);
      font-family: var(--font-body);
      font-size: var(--text-lg);
    }

    .match-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: var(--space-3);
      background: rgba(15, 15, 26, 0.5);
      border-radius: var(--radius-md);
      transition: background 0.2s ease;
    }

    .match-item:hover {
      background: rgba(15, 15, 26, 0.7);
    }

    .match-info {
      display: flex;
      flex-direction: column;
      gap: var(--space-1);
    }

    .match-name {
      font-family: var(--font-display);
      font-size: var(--text-lg);
      color: var(--gscrl-light);
    }

    .match-details {
      font-family: var(--font-body);
      font-size: var(--text-sm);
      color: var(--gscrl-gray);
      display: flex;
      gap: var(--space-4);
    }

    .match-time {
      font-family: var(--font-mono);
      font-size: var(--text-lg);
      color: var(--gscrl-primary);
      font-weight: 600;
    }

    /* Settings Panel */
    .settings-panel {
      position: absolute;
      top: var(--space-4);
      right: var(--space-4);
      background: rgba(15, 15, 26, 0.9);
      border-radius: var(--radius-md);
      padding: var(--space-4);
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: var(--shadow-md);
      z-index: 1000;
      max-width: 400px;
      max-height: 80vh;
      overflow-y: auto;
    }

    .settings-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--space-4);
      padding-bottom: var(--space-3);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .settings-title {
      font-family: var(--font-display);
      font-size: var(--text-lg);
      color: var(--gscrl-light);
      text-transform: uppercase;
    }

    .settings-close {
      background: none;
      border: none;
      color: var(--gscrl-gray);
      font-size: var(--text-xl);
      cursor: pointer;
      transition: color 0.2s ease;
    }

    .settings-close:hover {
      color: var(--gscrl-light);
    }

    .settings-section {
      margin-bottom: var(--space-4);
    }

    .settings-section-title {
      font-family: var(--font-display);
      font-size: var(--text-sm);
      color: var(--gscrl-primary);
      text-transform: uppercase;
      margin-bottom: var(--space-2);
      letter-spacing: 0.05em;
    }

    .form-group {
      margin-bottom: var(--space-3);
    }

    .form-label {
      display: block;
      font-family: var(--font-body);
      font-size: var(--text-sm);
      color: var(--gscrl-gray);
      margin-bottom: var(--space-2);
    }

    .form-input {
      width: 100%;
      padding: var(--space-2);
      background: rgba(26, 26, 46, 0.7);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: var(--radius-sm);
      color: var(--gscrl-light);
      font-family: var(--font-body);
      font-size: var(--text-sm);
    }

    .form-input:focus {
      outline: none;
      border-color: var(--gscrl-primary);
      box-shadow: 0 0 0 2px rgba(255, 107, 107, 0.2);
    }

    textarea.form-input {
      resize: vertical;
      min-height: 80px;
      font-family: var(--font-mono);
      font-size: var(--text-xs);
    }

    .form-select {
      width: 100%;
      padding: var(--space-2);
      background: rgba(26, 26, 46, 0.7);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: var(--radius-sm);
      color: var(--gscrl-light);
      font-family: var(--font-body);
      font-size: var(--text-sm);
    }

    .form-checkbox {
      margin-right: var(--space-2);
    }

    .btn {
      padding: var(--space-2) var(--space-4);
      background: var(--gscrl-primary);
      color: var(--gscrl-dark);
      border: none;
      border-radius: var(--radius-sm);
      font-family: var(--font-display);
      font-size: var(--text-sm);
      cursor: pointer;
      transition: all 0.2s ease;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .btn:hover {
      background: var(--color-danger);
      box-shadow: var(--glow-intensity) var(--glow-color);
    }

    .btn-secondary {
      background: rgba(26, 26, 46, 0.7);
      color: var(--gscrl-light);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .btn-secondary:hover {
      background: rgba(26, 26, 46, 0.9);
      border-color: var(--gscrl-primary);
    }

    /* Animations */
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateX(-20px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes contentSwitch {
      0% {
        opacity: 0;
        transform: scale(0.95);
      }
      50% {
        opacity: 1;
        transform: scale(1.02);
      }
      100% {
        opacity: 1;
        transform: scale(1);
      }
    }

    @keyframes pulse {
      0%, 100% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.05);
      }
    }

    .content-card.active {
      opacity: 1;
      transform: translateY(0);
      animation: contentSwitch 0.3s ease-out;
    }

    .engagement-option:hover {
      background: rgba(26, 26, 46, 0.9);
      border-color: var(--gscrl-primary);
      transform: translateY(-2px);
      animation: pulse 0.3s ease;
    }

    .sponsor-nav:hover {
      background: rgba(26, 26, 46, 0.9);
      border-color: var(--gscrl-primary);
      animation: pulse 0.2s ease;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      body {
        height: auto;
        min-height: 100vh;
      }

      .event-info-container {
        padding: var(--space-4);
      }

      .event-header {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--space-4);
      }

      .header-right {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--space-2);
      }
    }
  </style>
</head>
<body>
  <div class="event-info-container">
    <!-- Header Section -->
    <header class="event-header">
      <div class="header-left">
        <h1 class="event-title">Summer Showdown</h1>
        <div class="event-status">LIVE</div>
      </div>
      <div class="header-right">
        <div class="current-time">14:30</div>
      </div>
    </header>

    <!-- Main Content Area -->
    <main class="event-content">
      <!-- Schedule Content (Active by default) -->
      <div class="content-card active" data-type="schedule">
        <div class="card-header">
          <h2 class="card-title">Upcoming Matches</h2>
          <div class="card-subtitle">Next: John Doe vs Jane Smith</div>
        </div>
        <div class="schedule-content">
          <div class="match-item">
            <div class="match-info">
              <div class="match-name">John Doe vs Jane Smith</div>
              <div class="match-details">
                <span>3lb Class</span>
                <span>Quarterfinal</span>
              </div>
            </div>
            <div class="match-time">14:30</div>
          </div>
          <div class="match-item">
            <div class="match-info">
              <div class="match-name">Bot A vs Bot B</div>
              <div class="match-details">
                <span>12lb Class</span>
                <span>Quarterfinal</span>
              </div>
            </div>
            <div class="match-time">14:45</div>
          </div>
        </div>
      </div>

      <!-- Other content cards (hidden initially) -->
      <div class="content-card" data-type="standings">
        <div class="card-header">
          <h2 class="card-title">Current Standings</h2>
          <div class="card-subtitle">5 competitors</div>
        </div>
        <div class="standings-content">
          <!-- Standings content will be added here -->
        </div>
      </div>

      <div class="content-card" data-type="sponsor">
        <div class="card-header">
          <h2 class="card-title">Our Sponsors</h2>
          <div class="card-subtitle">Featured Sponsor: Acme Robotics</div>
        </div>
        <div class="sponsor-content">
          <!-- Sponsor content will be added here -->
        </div>
      </div>

      <div class="content-card" data-type="engagement">
        <div class="card-header">
          <h2 class="card-title">Engagement</h2>
          <div class="card-subtitle">Engagement: WHO WILL WIN THE NEXT MATCH?</div>
        </div>
        <div class="engagement-content">
          <!-- Engagement content will be added here -->
        </div>
      </div>
    </main>

    <!-- Footer Section -->
    <footer class="event-footer">
      <div class="social-links">
        <a href="#" class="social-link">@GSCRL</a>
        <a href="#" class="social-link">#SummerShowdown</a>
      </div>
      <div class="next-segment">Next: Match Preview</div>
    </footer>

    <!-- Settings Panel -->
    <div class="settings-panel" id="settingsPanel">
      <div class="settings-header">
        <h3 class="settings-title">Event Info Settings</h3>
        <button class="settings-close" id="closeSettings">&times;</button>
      </div>
      <div class="settings-section">
        <h4 class="settings-section-title">General Settings</h4>
        <div class="form-group">
          <label for="eventTitle" class="form-label">Event Title</label>
          <input type="text" id="eventTitle" class="form-input" value="Summer Showdown">
        </div>
        <div class="form-group">
          <label for="eventStatus" class="form-label">Event Status</label>
          <select id="eventStatus" class="form-select">
            <option value="LIVE">LIVE</option>
            <option value="UPCOMING">UPCOMING</option>
            <option value="INTERMISSION">INTERMISSION</option>
            <option value="COMPLETED">COMPLETED</option>
          </select>
        </div>
      </div>
      <div class="settings-section">
        <h4 class="settings-section-title">Content Settings</h4>
        <div class="form-group">
          <label for="contentType" class="form-label">Active Content Type</label>
          <select id="contentType" class="form-select">
            <option value="schedule">Schedule</option>
            <option value="standings">Standings</option>
            <option value="sponsor">Sponsor</option>
            <option value="engagement">Engagement</option>
          </select>
        </div>
      </div>
      <div class="settings-section">
        <h4 class="settings-section-title">Display Options</h4>
        <div class="form-group">
          <label class="form-label">
            <input type="checkbox" id="showHeader" class="form-checkbox" checked>
            Show Header
          </label>
        </div>
        <div class="form-group">
          <label class="form-label">
            <input type="checkbox" id="showFooter" class="form-checkbox" checked>
            Show Footer
          </label>
        </div>
      </div>
      <div class="settings-section">
        <h4 class="settings-section-title">Schedule Settings</h4>
        <div class="form-group">
          <label for="scheduleData" class="form-label">Schedule Data (JSON)</label>
          <textarea id="scheduleData" class="form-input" rows="4" placeholder='[{"match":"Team A vs Team B","time":"14:30","weight":"3lb","round":"Quarterfinal"}]'></textarea>
        </div>
        <button class="btn btn-secondary" id="updateSchedule">Update Schedule</button>
      </div>
      
      <div class="settings-section">
        <h4 class="settings-section-title">Styling</h4>
        <div class="form-group">
          <label for="accentColor" class="form-label">Accent Color</label>
          <input type="text" id="accentColor" class="form-input" value="FF6B6B">
        </div>
      </div>
      <button class="btn" id="saveSettings">Save Settings</button>
      <button class="btn btn-secondary" id="resetSettings">Reset to Defaults</button>
    </div>
  </div>

  <script src="../shared/config.js"></script>
  <script>
    // Event Info Overlay State Management
    const state = {
      eventTitle: 'Summer Showdown',
      eventStatus: 'LIVE',
      activeContent: 'schedule',
      showHeader: true,
      showFooter: true,
      accentColor: '#FF6B6B',
      
      // Schedule data
      upcomingMatches: [
        {
          match: 'John Doe vs Jane Smith',
          time: '14:30',
          weight: '3lb',
          round: 'Quarterfinal'
        },
        {
          match: 'Bot A vs Bot B',
          time: '14:45',
          weight: '12lb',
          round: 'Quarterfinal'
        }
      ],
      
      // Standings data
      standings: [
        { name: 'John Doe', wins: 3, losses: 1, points: 9 },
        { name: 'Jane Smith', wins: 3, losses: 1, points: 9 },
        { name: 'Mike Jones', wins: 2, losses: 2, points: 6 },
        { name: 'Sarah Lee', wins: 1, losses: 3, points: 3 },
        { name: 'Tom Wilson', wins: 0, losses: 4, points: 0 }
      ],
      
      // Sponsor data
      sponsors: [
        {
          name: 'Acme Robotics',
          message: 'Proud sponsor of the Summer Showdown robot combat event!',
          logo: '',
          url: 'https://acmerobotics.com',
          social: '@AcmeRobotics',
          cta: 'Visit our website for premium robot parts!'
        },
        {
          name: 'BotBusters Inc',
          message: 'Supporting the next generation of robot combat engineers.',
          logo: '',
          url: 'https://botbusters.com',
          social: '@BotBusters',
          cta: 'Check out our training programs!'
        }
      ],
      activeSponsorIndex: 0,
      sponsorRotationInterval: 10000,
      rotationTimer: null,
      
      // Engagement data
      engagementPrompts: [
        {
          prompt: 'WHO WILL WIN THE NEXT MATCH?',
          options: ['John Doe', 'Jane Smith'],
          hashtag: '#GSCRLVote',
          social: '@GSCRL on Twitter',
          timer: 60
        },
        {
          prompt: 'WHAT WAS THE BEST FIGHT SO FAR?',
          options: ['Match 1', 'Match 2', 'Match 3'],
          hashtag: '#GSCRLBestFight',
          social: 'Vote in chat!',
          timer: 30
        }
      ],
      activeEngagementIndex: 0,
      engagementTimer: null,
      engagementTimeRemaining: 0
    };

    // DOM Elements
    const elements = {
      eventTitle: document.querySelector('.event-title'),
      eventStatus: document.querySelector('.event-status'),
      contentCards: document.querySelectorAll('.content-card'),
      settingsPanel: document.getElementById('settingsPanel'),
      closeSettings: document.getElementById('closeSettings'),
      saveSettings: document.getElementById('saveSettings'),
      resetSettings: document.getElementById('resetSettings'),
      updateSchedule: document.getElementById('updateSchedule'),
      scheduleDataInput: document.getElementById('scheduleData'),
      eventTitleInput: document.getElementById('eventTitle'),
      eventStatusSelect: document.getElementById('eventStatus'),
      contentTypeSelect: document.getElementById('contentType'),
      showHeaderCheckbox: document.getElementById('showHeader'),
      showFooterCheckbox: document.getElementById('showFooter'),
      accentColorInput: document.getElementById('accentColor')
    };

    // Initialize the overlay
    function init() {
      // Parse URL parameters
      parseUrlParams();
      
      // Load settings from localStorage
      loadSettings();
      
      // Update UI with current state
      updateUI();
      
      // Set up event listeners
      setupEventListeners();
      
      // Start clock
      startClock();
      
      // Start sponsor rotation
      startSponsorRotation();
    }

    // Parse URL parameters
    function parseUrlParams() {
      const params = new URLSearchParams(window.location.search);
      
      // Event info
      if (params.has('event')) {
        state.eventTitle = params.get('event');
      }
      if (params.has('status')) {
        state.eventStatus = params.get('status');
      }
      
      // Content type
      if (params.has('type')) {
        const type = params.get('type');
        if (['schedule', 'standings', 'sponsor', 'engagement'].includes(type)) {
          state.activeContent = type;
        }
      }
      
      // Display options
      if (params.has('showheader')) {
        state.showHeader = params.get('showheader') === 'true';
      }
      if (params.has('showfooter')) {
        state.showFooter = params.get('showfooter') === 'true';
      }
      
      // Styling
      if (params.has('color')) {
        const color = params.get('color');
        if (/^[0-9A-Fa-f]{6}$/.test(color)) {
          state.accentColor = '#' + color;
        }
      }
      
      // Schedule parameters
      if (params.has('nextmatch')) {
        const nextMatch = params.get('nextmatch');
        // Update the first match in the schedule
        if (state.upcomingMatches.length > 0) {
          state.upcomingMatches[0].match = nextMatch;
        }
      }
      
      if (params.has('nexttime')) {
        const nextTime = params.get('nexttime');
        if (state.upcomingMatches.length > 0) {
          state.upcomingMatches[0].time = nextTime;
        }
      }
      
      if (params.has('weightclass')) {
        const weightClass = params.get('weightclass');
        if (state.upcomingMatches.length > 0) {
          state.upcomingMatches[0].weight = weightClass;
        }
      }
      
      // Parse schedule data from JSON parameter
      if (params.has('schedule')) {
        try {
          const scheduleData = JSON.parse(params.get('schedule'));
          if (Array.isArray(scheduleData)) {
            state.upcomingMatches = scheduleData.map(item => ({
              match: item.match || 'Unknown Match',
              time: item.time || 'TBD',
              weight: item.weight || 'Unknown',
              round: item.round || 'Match'
            }));
          }
        } catch (e) {
          console.warn('Failed to parse schedule data:', e);
        }
      }
      
      // Parse standings data from JSON parameter
      if (params.has('standings')) {
        try {
          const standingsData = JSON.parse(params.get('standings'));
          if (Array.isArray(standingsData)) {
            state.standings = standingsData.map(item => ({
              name: item.name || 'Unknown Competitor',
              wins: item.wins || 0,
              losses: item.losses || 0,
              points: item.points || 0
            }));
          }
        } catch (e) {
          console.warn('Failed to parse standings data:', e);
        }
      }
      
      // Parse sponsor data from JSON parameter
      if (params.has('sponsor')) {
        try {
          const sponsorData = JSON.parse(params.get('sponsor'));
          if (Array.isArray(sponsorData)) {
            state.sponsors = sponsorData.map(item => ({
              name: item.name || 'Unknown Sponsor',
              message: item.message || 'Thank you for your support!',
              logo: item.logo || '',
              url: item.url || '',
              social: item.social || '',
              cta: item.cta || ''
            }));
          }
        } catch (e) {
          console.warn('Failed to parse sponsor data:', e);
        }
      }
      
      // Sponsor message parameter (simple text)
      if (params.has('sponsormessage')) {
        const message = params.get('sponsormessage');
        if (state.sponsors.length === 0) {
          state.sponsors.push({
            name: 'Event Sponsor',
            message: message,
            logo: '',
            url: '',
            social: '',
            cta: ''
          });
        } else {
          state.sponsors[0].message = message;
        }
      }
      
      // Parse engagement data from JSON parameter
      if (params.has('engagement')) {
        try {
          const engagementData = JSON.parse(params.get('engagement'));
          if (Array.isArray(engagementData)) {
            state.engagementPrompts = engagementData.map(item => ({
              prompt: item.prompt || 'Engagement Question',
              options: item.options || [],
              hashtag: item.hashtag || '',
              social: item.social || '',
              timer: item.timer || 0
            }));
          }
        } catch (e) {
          console.warn('Failed to parse engagement data:', e);
        }
      }
      
      // Simple engagement prompt parameter
      if (params.has('prompt')) {
        const prompt = params.get('prompt');
        if (state.engagementPrompts.length === 0) {
          state.engagementPrompts.push({
            prompt: prompt,
            options: [],
            hashtag: '',
            social: '',
            timer: 0
          });
        } else {
          state.engagementPrompts[0].prompt = prompt;
        }
      }
    }

    // Load settings from localStorage
    function loadSettings() {
      try {
        const saved = localStorage.getItem('gscrl-event-info-settings');
        if (saved) {
          const parsed = JSON.parse(saved);
          // Merge with current state, preserving defaults for missing values
          state.eventTitle = parsed.eventTitle || state.eventTitle;
          state.eventStatus = parsed.eventStatus || state.eventStatus;
          state.activeContent = parsed.activeContent || state.activeContent;
          state.showHeader = parsed.showHeader !== undefined ? parsed.showHeader : state.showHeader;
          state.showFooter = parsed.showFooter !== undefined ? parsed.showFooter : state.showFooter;
          state.accentColor = parsed.accentColor || state.accentColor;
          
          // Load schedule data if available
          if (parsed.upcomingMatches && Array.isArray(parsed.upcomingMatches)) {
            state.upcomingMatches = parsed.upcomingMatches;
          }
          
          // Load standings data if available
          if (parsed.standings && Array.isArray(parsed.standings)) {
            state.standings = parsed.standings;
          }
          
          // Load sponsor data if available
          if (parsed.sponsors && Array.isArray(parsed.sponsors)) {
            state.sponsors = parsed.sponsors;
          }
          
          // Load active sponsor index if available
          if (parsed.activeSponsorIndex !== undefined) {
            state.activeSponsorIndex = Math.min(parsed.activeSponsorIndex, state.sponsors.length - 1);
          }
          
          // Load engagement data if available
          if (parsed.engagementPrompts && Array.isArray(parsed.engagementPrompts)) {
            state.engagementPrompts = parsed.engagementPrompts;
          }
          
          // Load active engagement index if available
          if (parsed.activeEngagementIndex !== undefined) {
            state.activeEngagementIndex = Math.min(parsed.activeEngagementIndex, state.engagementPrompts.length - 1);
          }
        }
      } catch (e) {
        console.warn('Failed to load event info settings:', e);
      }
    }

    // Save settings to localStorage
    function saveSettings() {
      try {
        localStorage.setItem('gscrl-event-info-settings', JSON.stringify({
          eventTitle: state.eventTitle,
          eventStatus: state.eventStatus,
          activeContent: state.activeContent,
          showHeader: state.showHeader,
          showFooter: state.showFooter,
          accentColor: state.accentColor,
          upcomingMatches: state.upcomingMatches,
          standings: state.standings,
          sponsors: state.sponsors,
          activeSponsorIndex: state.activeSponsorIndex,
          engagementPrompts: state.engagementPrompts,
          activeEngagementIndex: state.activeEngagementIndex
        }));
      } catch (e) {
        console.warn('Failed to save event info settings:', e);
      }
    }

    // Update UI based on current state
    function updateUI() {
      // Update header
      elements.eventTitle.textContent = state.eventTitle;
      elements.eventStatus.textContent = state.eventStatus;
      
      // Update accent color
      document.documentElement.style.setProperty('--gscrl-primary', state.accentColor);
      document.documentElement.style.setProperty('--glow-color', state.accentColor);
      
      // Show/hide header and footer
      document.querySelector('.event-header').style.display = state.showHeader ? 'flex' : 'none';
      document.querySelector('.event-footer').style.display = state.showFooter ? 'flex' : 'none';
      
      // Update content cards
      updateContentCards();
      
      // Update content based on active type
      updateActiveContent();
      
      // Update settings panel inputs
      updateSettingsPanel();
    }

    // Update content based on active content type
    function updateActiveContent() {
      switch (state.activeContent) {
        case 'schedule':
          updateScheduleContent();
          break;
        case 'standings':
          updateStandingsContent();
          break;
        case 'sponsor':
          updateSponsorContent();
          break;
        case 'engagement':
          updateEngagementContent();
          break;
      }
    }

    // Update schedule content
    function updateScheduleContent() {
      const scheduleContent = document.querySelector('.schedule-content');
      const cardSubtitle = document.querySelector('.content-card[data-type="schedule"] .card-subtitle');
      
      // Clear existing content
      scheduleContent.innerHTML = '';
      
      // Update subtitle with next match info
      if (state.upcomingMatches.length > 0) {
        cardSubtitle.textContent = `Next: ${state.upcomingMatches[0].match}`;
      } else {
        cardSubtitle.textContent = 'No upcoming matches';
      }
      
      // Render each match
      state.upcomingMatches.forEach(match => {
        const matchItem = document.createElement('div');
        matchItem.className = 'match-item';
        
        const matchInfo = document.createElement('div');
        matchInfo.className = 'match-info';
        
        const matchName = document.createElement('div');
        matchName.className = 'match-name';
        matchName.textContent = match.match;
        
        const matchDetails = document.createElement('div');
        matchDetails.className = 'match-details';
        matchDetails.innerHTML = `
          <span>${match.weight} Class</span>
          <span>${match.round}</span>
        `;
        
        const matchTime = document.createElement('div');
        matchTime.className = 'match-time';
        matchTime.textContent = match.time;
        
        matchInfo.appendChild(matchName);
        matchInfo.appendChild(matchDetails);
        matchItem.appendChild(matchInfo);
        matchItem.appendChild(matchTime);
        
        scheduleContent.appendChild(matchItem);
      });
      
      // If no matches, show a message
      if (state.upcomingMatches.length === 0) {
        const noMatches = document.createElement('div');
        noMatches.className = 'no-matches';
        noMatches.textContent = 'No upcoming matches scheduled';
        scheduleContent.appendChild(noMatches);
      }
    }

    // Update standings content
    function updateStandingsContent() {
      const standingsContent = document.querySelector('.standings-content');
      const cardSubtitle = document.querySelector('.content-card[data-type="standings"] .card-subtitle');
      
      // Clear existing content
      standingsContent.innerHTML = '';
      
      // Update subtitle
      if (cardSubtitle) {
        cardSubtitle.textContent = `${state.standings.length} competitors`;
      }
      
      // If no standings data, show message
      if (state.standings.length === 0) {
        const noStandings = document.createElement('div');
        noStandings.className = 'no-standings';
        noStandings.textContent = 'No standings data available';
        standingsContent.appendChild(noStandings);
        return;
      }
      
      // Create table
      const table = document.createElement('table');
      table.className = 'standings-table';
      
      // Create header row
      const thead = document.createElement('thead');
      const headerRow = document.createElement('tr');
      
      const rankHeader = document.createElement('th');
      rankHeader.textContent = 'Rank';
      rankHeader.style.width = '10%';
      
      const nameHeader = document.createElement('th');
      nameHeader.textContent = 'Competitor';
      nameHeader.style.width = '50%';
      
      const recordHeader = document.createElement('th');
      recordHeader.textContent = 'Record';
      recordHeader.style.width = '20%';
      
      const pointsHeader = document.createElement('th');
      pointsHeader.textContent = 'Points';
      pointsHeader.style.width = '20%';
      
      headerRow.appendChild(rankHeader);
      headerRow.appendChild(nameHeader);
      headerRow.appendChild(recordHeader);
      headerRow.appendChild(pointsHeader);
      thead.appendChild(headerRow);
      table.appendChild(thead);
      
      // Create body rows
      const tbody = document.createElement('tbody');
      
      // Sort standings by points (descending)
      const sortedStandings = [...state.standings].sort((a, b) => b.points - a.points);
      
      sortedStandings.forEach((competitor, index) => {
        const row = document.createElement('tr');
        
        const rankCell = document.createElement('td');
        const rankSpan = document.createElement('span');
        rankSpan.className = 'rank';
        rankSpan.textContent = index + 1;
        rankCell.appendChild(rankSpan);
        
        const nameCell = document.createElement('td');
        const nameSpan = document.createElement('span');
        nameSpan.className = 'competitor-name';
        nameSpan.textContent = competitor.name;
        nameCell.appendChild(nameSpan);
        
        const recordCell = document.createElement('td');
        const recordSpan = document.createElement('span');
        recordSpan.className = 'record';
        recordSpan.textContent = `${competitor.wins}-${competitor.losses}`;
        recordCell.appendChild(recordSpan);
        
        const pointsCell = document.createElement('td');
        const pointsSpan = document.createElement('span');
        pointsSpan.className = 'points';
        pointsSpan.textContent = competitor.points;
        pointsCell.appendChild(pointsSpan);
        
        row.appendChild(rankCell);
        row.appendChild(nameCell);
        row.appendChild(recordCell);
        row.appendChild(pointsCell);
        tbody.appendChild(row);
      });
      
      table.appendChild(tbody);
      standingsContent.appendChild(table);
    }

    // Update sponsor content
    function updateSponsorContent() {
      const sponsorContent = document.querySelector('.sponsor-content');
      const cardSubtitle = document.querySelector('.content-card[data-type="sponsor"] .card-subtitle');
      
      // Clear existing content
      sponsorContent.innerHTML = '';
      
      // If no sponsors, show message
      if (state.sponsors.length === 0) {
        const noSponsors = document.createElement('div');
        noSponsors.className = 'no-sponsors';
        noSponsors.textContent = 'No sponsor information available';
        sponsorContent.appendChild(noSponsors);
        return;
      }
      
      // Get current sponsor
      const currentSponsor = state.sponsors[state.activeSponsorIndex];
      
      // Update subtitle
      if (cardSubtitle) {
        cardSubtitle.textContent = `Featured Sponsor: ${currentSponsor.name}`;
      }
      
      // Create sponsor message
      const message = document.createElement('div');
      message.className = 'sponsor-message';
      message.textContent = currentSponsor.message;
      sponsorContent.appendChild(message);
      
      // Create sponsor logo placeholder
      const logo = document.createElement('div');
      logo.className = 'sponsor-logo';
      if (currentSponsor.logo) {
        logo.style.backgroundImage = `url('${currentSponsor.logo}')`;
        logo.style.backgroundSize = 'contain';
        logo.style.backgroundRepeat = 'no-repeat';
        logo.style.backgroundPosition = 'center';
        logo.textContent = '';
      } else {
        logo.textContent = currentSponsor.name;
      }
      sponsorContent.appendChild(logo);
      
      // Create sponsor name
      const name = document.createElement('div');
      name.className = 'sponsor-name';
      name.textContent = currentSponsor.name;
      sponsorContent.appendChild(name);
      
      // Create CTA if available
      if (currentSponsor.cta) {
        const cta = document.createElement('div');
        cta.className = 'sponsor-cta';
        cta.textContent = currentSponsor.cta;
        sponsorContent.appendChild(cta);
      }
      
      // Create social links if available
      if (currentSponsor.social) {
        const social = document.createElement('div');
        social.className = 'sponsor-social';
        
        const socialLinks = currentSponsor.social.split(',').map(s => s.trim());
        socialLinks.forEach(link => {
          const socialLink = document.createElement('a');
          socialLink.className = 'sponsor-social-link';
          socialLink.href = `https://twitter.com/${link.replace('@', '')}`;
          socialLink.target = '_blank';
          socialLink.textContent = link;
          social.appendChild(socialLink);
        });
        
        sponsorContent.appendChild(social);
      }
      
      // Add navigation controls if multiple sponsors
      if (state.sponsors.length > 1) {
        const controls = document.createElement('div');
        controls.className = 'sponsor-controls';
        
        const prevBtn = document.createElement('button');
        prevBtn.className = 'sponsor-nav';
        prevBtn.textContent = 'Previous';
        prevBtn.disabled = state.activeSponsorIndex === 0;
        prevBtn.addEventListener('click', () => {
          navigateSponsor(-1);
        });
        
        const nextBtn = document.createElement('button');
        nextBtn.className = 'sponsor-nav';
        nextBtn.textContent = 'Next';
        nextBtn.disabled = state.activeSponsorIndex === state.sponsors.length - 1;
        nextBtn.addEventListener('click', () => {
          navigateSponsor(1);
        });
        
        controls.appendChild(prevBtn);
        controls.appendChild(nextBtn);
        sponsorContent.appendChild(controls);
      }
    }

    // Navigate between sponsors
    function navigateSponsor(direction) {
      // Clear existing rotation timer
      if (state.rotationTimer) {
        clearTimeout(state.rotationTimer);
        state.rotationTimer = null;
      }
      
      // Calculate new index
      let newIndex = state.activeSponsorIndex + direction;
      
      // Wrap around
      if (newIndex < 0) {
        newIndex = state.sponsors.length - 1;
      } else if (newIndex >= state.sponsors.length) {
        newIndex = 0;
      }
      
      state.activeSponsorIndex = newIndex;
      
      // Update content
      if (state.activeContent === 'sponsor') {
        updateSponsorContent();
      }
      
      // Save settings
      saveSettings();
    }

    // Start sponsor rotation
    function startSponsorRotation() {
      // Clear existing timer
      if (state.rotationTimer) {
        clearTimeout(state.rotationTimer);
      }
      
      // Only start rotation if there are multiple sponsors
      if (state.sponsors.length > 1) {
        state.rotationTimer = setTimeout(() => {
          navigateSponsor(1);
          startSponsorRotation();
        }, state.sponsorRotationInterval);
      }
    }

    // Update engagement content
    function updateEngagementContent() {
      const engagementContent = document.querySelector('.engagement-content');
      const cardSubtitle = document.querySelector('.content-card[data-type="engagement"] .card-subtitle');
      
      // Clear existing content
      engagementContent.innerHTML = '';
      
      // If no engagement prompts, show message
      if (state.engagementPrompts.length === 0) {
        const noEngagement = document.createElement('div');
        noEngagement.className = 'no-engagement';
        noEngagement.textContent = 'No engagement prompts available';
        engagementContent.appendChild(noEngagement);
        return;
      }
      
      // Get current prompt
      const currentPrompt = state.engagementPrompts[state.activeEngagementIndex];
      
      // Update subtitle
      if (cardSubtitle) {
        cardSubtitle.textContent = `Engagement: ${currentPrompt.prompt}`;
      }
      
      // Create prompt
      const prompt = document.createElement('div');
      prompt.className = 'engagement-prompt';
      prompt.textContent = currentPrompt.prompt;
      engagementContent.appendChild(prompt);
      
      // Create options if available
      if (currentPrompt.options && currentPrompt.options.length > 0) {
        const options = document.createElement('div');
        options.className = 'engagement-options';
        
        currentPrompt.options.forEach(option => {
          const optionBtn = document.createElement('button');
          optionBtn.className = 'engagement-option';
          optionBtn.textContent = option;
          optionBtn.addEventListener('click', () => {
            // In a real implementation, this would send the vote via WebSocket
            alert(`Voted for: ${option}`);
          });
          options.appendChild(optionBtn);
        });
        
        engagementContent.appendChild(options);
      }
      
      // Create hashtag if available
      if (currentPrompt.hashtag) {
        const hashtag = document.createElement('div');
        hashtag.className = 'engagement-hashtag';
        hashtag.textContent = currentPrompt.hashtag;
        engagementContent.appendChild(hashtag);
      }
      
      // Create social info if available
      if (currentPrompt.social) {
        const social = document.createElement('div');
        social.className = 'engagement-social';
        social.textContent = currentPrompt.social;
        engagementContent.appendChild(social);
      }
      
      // Start timer if available
      if (currentPrompt.timer && currentPrompt.timer > 0) {
        state.engagementTimeRemaining = currentPrompt.timer;
        
        const timer = document.createElement('div');
        timer.className = 'engagement-timer';
        timer.id = 'engagementTimerDisplay';
        timer.textContent = formatTime(state.engagementTimeRemaining);
        engagementContent.appendChild(timer);
        
        startEngagementTimer();
      }
    }

    // Start engagement timer
    function startEngagementTimer() {
      // Clear existing timer
      if (state.engagementTimer) {
        clearInterval(state.engagementTimer);
      }
      
      // Update timer display every second
      state.engagementTimer = setInterval(() => {
        state.engagementTimeRemaining--;
        
        const timerDisplay = document.getElementById('engagementTimerDisplay');
        if (timerDisplay) {
          timerDisplay.textContent = formatTime(state.engagementTimeRemaining);
        }
        
        // When timer reaches 0
        if (state.engagementTimeRemaining <= 0) {
          clearInterval(state.engagementTimer);
          state.engagementTimer = null;
          
          // In a real implementation, this would show results or move to next prompt
          if (timerDisplay) {
            timerDisplay.textContent = 'TIMES UP!';
            timerDisplay.style.color = 'var(--color-danger)';
          }
        }
      }, 1000);
    }

    // Format time as MM:SS
    function formatTime(seconds) {
      const mins = Math.floor(seconds / 60).toString().padStart(2, '0');
      const secs = (seconds % 60).toString().padStart(2, '0');
      return `${mins}:${secs}`;
    }

    // Update content cards based on active content
    function updateContentCards() {
      elements.contentCards.forEach(card => {
        if (card.dataset.type === state.activeContent) {
          card.classList.add('active');
        } else {
          card.classList.remove('active');
        }
      });
      
      // Add a small delay to ensure the animation plays
      setTimeout(() => {
        const activeCard = document.querySelector('.content-card.active');
        if (activeCard) {
          activeCard.style.animation = 'none';
          void activeCard.offsetWidth; // Trigger reflow
          activeCard.style.animation = 'contentSwitch 0.3s ease-out';
        }
      }, 50);
    }

    // Update settings panel inputs
    function updateSettingsPanel() {
      elements.eventTitleInput.value = state.eventTitle;
      elements.eventStatusSelect.value = state.eventStatus;
      elements.contentTypeSelect.value = state.activeContent;
      elements.showHeaderCheckbox.checked = state.showHeader;
      elements.showFooterCheckbox.checked = state.showFooter;
      elements.accentColorInput.value = state.accentColor.replace('#', '');
      
      // Update schedule data textarea
      elements.scheduleDataInput.value = JSON.stringify(state.upcomingMatches, null, 2);
    }

    // Set up event listeners
    function setupEventListeners() {
      // Settings panel toggle (add keyboard shortcut)
      document.addEventListener('keydown', (e) => {
        if (e.key === 's' && e.ctrlKey) {
          toggleSettingsPanel();
        }
      });
      
      // Close settings panel
      elements.closeSettings.addEventListener('click', toggleSettingsPanel);
      
      // Save settings
      elements.saveSettings.addEventListener('click', () => {
        state.eventTitle = elements.eventTitleInput.value;
        state.eventStatus = elements.eventStatusSelect.value;
        state.activeContent = elements.contentTypeSelect.value;
        state.showHeader = elements.showHeaderCheckbox.checked;
        state.showFooter = elements.showFooterCheckbox.checked;
        
        const colorValue = elements.accentColorInput.value;
        if (/^[0-9A-Fa-f]{6}$/.test(colorValue)) {
          state.accentColor = '#' + colorValue;
        }
        
        saveSettings();
        updateUI();
        toggleSettingsPanel();
      });
      
      // Update schedule data
      elements.updateSchedule.addEventListener('click', () => {
        try {
          const scheduleData = JSON.parse(elements.scheduleDataInput.value);
          if (Array.isArray(scheduleData)) {
            state.upcomingMatches = scheduleData.map(item => ({
              match: item.match || 'Unknown Match',
              time: item.time || 'TBD',
              weight: item.weight || 'Unknown',
              round: item.round || 'Match'
            }));
            
            // Save to settings
            saveSettings();
            
            // Update UI
            if (state.activeContent === 'schedule') {
              updateScheduleContent();
            }
            
            alert('Schedule updated successfully!');
          } else {
            alert('Schedule data should be an array of match objects');
          }
        } catch (e) {
          alert('Invalid JSON format: ' + e.message);
        }
      });
      
      // Reset settings
      elements.resetSettings.addEventListener('click', () => {
        if (confirm('Reset all settings to defaults?')) {
          // Reset to defaults
          state.eventTitle = 'Summer Showdown';
          state.eventStatus = 'LIVE';
          state.activeContent = 'schedule';
          state.showHeader = true;
          state.showFooter = true;
          state.accentColor = '#FF6B6B';
          state.upcomingMatches = [
            {
              match: 'John Doe vs Jane Smith',
              time: '14:30',
              weight: '3lb',
              round: 'Quarterfinal'
            },
            {
              match: 'Bot A vs Bot B',
              time: '14:45',
              weight: '12lb',
              round: 'Quarterfinal'
            }
          ];
          state.standings = [
            { name: 'John Doe', wins: 3, losses: 1, points: 9 },
            { name: 'Jane Smith', wins: 3, losses: 1, points: 9 },
            { name: 'Mike Jones', wins: 2, losses: 2, points: 6 },
            { name: 'Sarah Lee', wins: 1, losses: 3, points: 3 },
            { name: 'Tom Wilson', wins: 0, losses: 4, points: 0 }
          ];
          state.engagementPrompts = [
            {
              prompt: 'WHO WILL WIN THE NEXT MATCH?',
              options: ['John Doe', 'Jane Smith'],
              hashtag: '#GSCRLVote',
              social: '@GSCRL on Twitter',
              timer: 60
            },
            {
              prompt: 'WHAT WAS THE BEST FIGHT SO FAR?',
              options: ['Match 1', 'Match 2', 'Match 3'],
              hashtag: '#GSCRLBestFight',
              social: 'Vote in chat!',
              timer: 30
            }
          ];
          state.activeEngagementIndex = 0;
          
          saveSettings();
          updateUI();
        }
      });
    }

    // Toggle settings panel visibility
    function toggleSettingsPanel() {
      elements.settingsPanel.style.display = elements.settingsPanel.style.display === 'block' ? 'none' : 'block';
    }

    // Start clock update
    function startClock() {
      updateClock();
      setInterval(updateClock, 1000);
    }

    // Update clock display
    function updateClock() {
      const now = new Date();
      const hours = now.getHours().toString().padStart(2, '0');
      const minutes = now.getMinutes().toString().padStart(2, '0');
      const timeString = `${hours}:${minutes}`;
      
      const timeElements = document.querySelectorAll('.current-time');
      timeElements.forEach(el => {
        el.textContent = timeString;
      });
    }

    // Initialize when DOM is loaded
    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>